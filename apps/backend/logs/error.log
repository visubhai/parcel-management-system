{"body":{},"level":"error","message":"500 - Cannot read properties of null (reading 'name') - /api/bookings?export=excel&startDate=2026-01-01&endDate=2026-01-31&reportType=BOOKING_REPORT - GET - ::1","params":{},"query":{"endDate":"2026-01-31","export":"excel","reportType":"BOOKING_REPORT","startDate":"2026-01-01"},"service":"parcel-management-backend","stack":"TypeError: Cannot read properties of null (reading 'name')\n    at <anonymous> (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/services/exportService.ts:93:33)\n    at Array.forEach (<anonymous>)\n    at Object.generateExcel (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/services/exportService.ts:88:14)\n    at <anonymous> (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/controllers/bookingController.ts:69:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-31 22:59:26"}
{"body":{},"level":"error","message":"500 - Cannot read properties of null (reading 'name') - /api/bookings?export=excel&startDate=2026-01-01&endDate=2026-01-31&reportType=BOOKING_REPORT - GET - ::1","params":{},"query":{"endDate":"2026-01-31","export":"excel","reportType":"BOOKING_REPORT","startDate":"2026-01-01"},"service":"parcel-management-backend","stack":"TypeError: Cannot read properties of null (reading 'name')\n    at <anonymous> (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/services/exportService.ts:93:33)\n    at Array.forEach (<anonymous>)\n    at Object.generateExcel (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/services/exportService.ts:88:14)\n    at <anonymous> (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/controllers/bookingController.ts:69:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-31 22:59:27"}
{"body":{"costs":{"freight":100,"hamali":0,"handling":10,"total":110},"date":"2026-01-31T10:20:32.961Z","fromBranch":"Unknown","id":"697dd77001669bb48798b75a","lrNumber":"RAJKOT-LIMDACHOK/0013","parcels":[{"_id":"697dd77001669bb48798b75b","itemType":"White Sack","quantity":1,"rate":100,"weight":0}],"paymentType":"Paid","receiver":{"mobile":"0987654321","name":"TestReceiver"},"remarks":"","sender":{"mobile":"1234567890","name":"OriginalSender"},"status":"Arrived","toBranch":"Unknown"},"level":"error","message":"500 - Cast to ObjectId failed for value \"Unknown\" (type string) at path \"fromBranch\" because of \"BSONError\" - /api/bookings/697dd77001669bb48798b75a - PUT - ::1","params":{},"query":{},"service":"parcel-management-backend","stack":"CastError: Cast to ObjectId failed for value \"Unknown\" (type string) at path \"fromBranch\" because of \"BSONError\"\n    at SchemaObjectId.cast (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/schema/objectId.js:253:11)\n    at SchemaType.applySetters (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/schemaType.js:1288:12)\n    at SchemaType.castForQuery (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/schemaType.js:1724:17)\n    at castUpdateVal (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/helpers/query/castUpdate.js:633:19)\n    at walkUpdatePath (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/helpers/query/castUpdate.js:438:24)\n    at castUpdate (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/helpers/query/castUpdate.js:144:7)\n    at model.Query._castUpdate (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/query.js:4874:10)\n    at model.Query._findOneAndUpdate (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/query.js:3497:23)\n    at model.Query.exec (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/node_modules/mongoose/lib/query.js:4627:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async <anonymous> (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/controllers/bookingController.ts:216:28)","timestamp":"2026-01-31 22:59:48"}
{"body":{},"level":"error","message":"500 - Cannot read properties of null (reading 'name') - /api/bookings?export=pdf&startDate=2026-01-01&endDate=2026-01-31&reportType=BOOKING_REPORT - GET - ::1","params":{},"query":{"endDate":"2026-01-31","export":"pdf","reportType":"BOOKING_REPORT","startDate":"2026-01-01"},"service":"parcel-management-backend","stack":"TypeError: Cannot read properties of null (reading 'name')\n    at <anonymous> (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/services/exportService.ts:40:36)\n    at Array.forEach (<anonymous>)\n    at Object.generatePDF (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/services/exportService.ts:35:14)\n    at <anonymous> (/Users/vishvampaghadar/Documents/parcel-management-system/apps/backend/src/controllers/bookingController.ts:61:30)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-31 23:00:19"}
