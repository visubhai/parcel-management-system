import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { Filter, ChevronDown } from "lucide-react";
import { cn } from "@/frontend/lib/utils";
export function FilterBar({ fromBranch, toBranch, startDate, endDate, onFromBranchChange, onToBranchChange, onDateRangeChange, isBranchRestricted, availableBranches }) {
    const applyQuickRange = (range) => {
        const today = new Date();
        const end = today.toISOString().split('T')[0];
        let start = end;
        if (range === 'week') {
            const d = new Date();
            d.setDate(d.getDate() - 7);
            start = d.toISOString().split('T')[0];
        }
        else if (range === 'month') {
            const d = new Date();
            d.setDate(1); // Start of month
            start = d.toISOString().split('T')[0];
        }
        onDateRangeChange(start, end);
    };
    const branchOptions = availableBranches || ["Branch A", "Branch B"];
    return (_jsxs("div", { className: "bg-white p-5 rounded-2xl border border-slate-200 shadow-sm mb-6 pb-2", children: [_jsxs("div", { className: "flex items-center gap-2 text-slate-500 font-bold text-sm uppercase tracking-wider mb-4 border-b border-slate-100 pb-2", children: [_jsx(Filter, { className: "w-4 h-4" }), " Advanced Filters"] }), _jsxs("div", { className: "flex flex-col xl:flex-row gap-6", children: [_jsxs("div", { className: "flex flex-col gap-2 xl:w-auto w-full", children: [_jsx("label", { className: "text-xs font-bold text-slate-400 uppercase tracking-wide", children: "Date Range" }), _jsxs("div", { className: "flex flex-col sm:flex-row gap-3 items-center bg-slate-50 p-2 rounded-xl border border-slate-100", children: [_jsxs("div", { className: "relative w-full sm:w-auto", children: [_jsx("span", { className: "absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold", children: "FROM" }), _jsx("input", { type: "date", value: startDate, onChange: (e) => onDateRangeChange(e.target.value, endDate), className: "pl-12 pr-4 py-2 rounded-lg border border-slate-200 text-sm font-bold text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white w-full sm:w-40" })] }), _jsx("span", { className: "text-slate-400 font-bold hidden sm:inline", children: "\u2192" }), _jsxs("div", { className: "relative w-full sm:w-auto", children: [_jsx("span", { className: "absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold", children: "TO" }), _jsx("input", { type: "date", value: endDate, onChange: (e) => onDateRangeChange(startDate, e.target.value), min: startDate, className: "pl-10 pr-4 py-2 rounded-lg border border-slate-200 text-sm font-bold text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white w-full sm:w-40" })] }), _jsxs("div", { className: "flex gap-1 w-full sm:w-auto justify-end", children: [_jsx("button", { onClick: () => applyQuickRange('today'), className: "px-3 py-1.5 text-xs font-bold text-slate-600 bg-white border border-slate-200 rounded-md hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all", children: "Today" }), _jsx("button", { onClick: () => applyQuickRange('week'), className: "px-3 py-1.5 text-xs font-bold text-slate-600 bg-white border border-slate-200 rounded-md hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all", children: "Week" }), _jsx("button", { onClick: () => applyQuickRange('month'), className: "px-3 py-1.5 text-xs font-bold text-slate-600 bg-white border border-slate-200 rounded-md hover:bg-blue-50 hover:text-blue-600 hover:border-blue-200 transition-all", children: "Month" })] })] })] }), _jsxs("div", { className: "flex flex-col sm:flex-row gap-4 flex-1", children: [_jsxs("div", { className: "flex flex-col gap-2 flex-1", children: [_jsx("label", { className: "text-xs font-bold text-slate-400 uppercase tracking-wide", children: "Dispatch Branch" }), _jsxs("div", { className: "relative", children: [_jsxs("select", { value: fromBranch, disabled: isBranchRestricted, onChange: (e) => onFromBranchChange(e.target.value), className: cn("w-full pl-3 pr-8 py-2.5 rounded-xl border text-sm font-bold appearance-none transition-colors", isBranchRestricted
                                                    ? "bg-slate-100 border-slate-200 text-slate-500 cursor-not-allowed"
                                                    : "bg-white border-slate-200 text-slate-800 focus:outline-none focus:ring-2 focus:ring-teal-500/20"), children: [_jsx("option", { value: "All", children: "All Branches" }), branchOptions.map(b => (_jsx("option", { value: b, children: b }, b)))] }), _jsx(ChevronDown, { className: "absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none" })] })] }), _jsxs("div", { className: "flex flex-col gap-2 flex-1", children: [_jsx("label", { className: "text-xs font-bold text-slate-400 uppercase tracking-wide", children: "Dest. Branch" }), _jsxs("div", { className: "relative", children: [_jsxs("select", { value: toBranch, onChange: (e) => onToBranchChange(e.target.value), className: "w-full pl-3 pr-8 py-2.5 rounded-xl border border-slate-200 text-sm font-bold text-slate-800 focus:outline-none focus:ring-2 focus:ring-purple-500/20 bg-white appearance-none", children: [_jsx("option", { value: "All", children: "All Branches" }), branchOptions.map(b => (_jsx("option", { value: b, children: b }, b)))] }), _jsx(ChevronDown, { className: "absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none" })] })] })] })] })] }));
}
