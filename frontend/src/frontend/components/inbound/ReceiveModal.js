"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from "react";
import { X, Check, IndianRupee } from "lucide-react";
import { cn } from "@/frontend/lib/utils";
export function ReceiveModal({ parcel, isOpen, onClose, onConfirm }) {
    const [remark, setRemark] = useState("");
    const [collectedBy, setCollectedBy] = useState("");
    const [collectedByMobile, setCollectedByMobile] = useState("");
    if (!isOpen)
        return null;
    const isToPay = parcel.paymentStatus === "To Pay";
    const isDeliverAction = true; // Simplified flow: always delivering from inbound
    return (_jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in", children: _jsxs("div", { className: "bg-card text-card-foreground rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200 border border-border", children: [_jsxs("div", { className: "px-6 py-4 border-b border-border flex items-center justify-between bg-muted/50", children: [_jsx("h3", { className: "text-lg font-bold flex items-center gap-2", children: isDeliverAction ? "Confirm Delivery" : "Receive Parcel" }), _jsx("button", { onClick: onClose, className: "text-muted-foreground hover:text-foreground", children: _jsx(X, { className: "w-5 h-5" }) })] }), _jsxs("div", { className: "p-6", children: [_jsxs("div", { className: "flex items-center justify-between mb-6", children: [_jsxs("div", { children: [_jsx("p", { className: "text-xs text-muted-foreground uppercase tracking-wide mb-1", children: "LR Number" }), _jsx("p", { className: "text-xl font-mono font-bold text-primary", children: parcel.lrNumber })] }), isToPay && (_jsxs("div", { className: "text-right", children: [_jsx("p", { className: "text-xs text-muted-foreground uppercase tracking-wide mb-1", children: "Amount Due" }), _jsxs("p", { className: "text-xl font-bold text-destructive flex items-center justify-end gap-1", children: [_jsx(IndianRupee, { className: "w-4 h-4" }), " ", parcel.totalAmount] })] }))] }), _jsxs("div", { className: "bg-muted/30 rounded-lg p-4 mb-6 space-y-3 border border-border/50", children: [_jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-muted-foreground", children: "Sender" }), _jsx("span", { className: "font-medium", children: parcel.senderName })] }), _jsxs("div", { className: "flex justify-between text-sm", children: [_jsx("span", { className: "text-muted-foreground", children: "Receiver" }), _jsx("span", { className: "font-medium", children: parcel.receiverName })] })] }), _jsxs("div", { className: "space-y-4", children: [isToPay ? (_jsx("div", { className: "bg-red-50 border border-red-100 rounded-lg p-4", children: _jsxs("p", { className: "text-sm text-red-800 font-bold flex items-center gap-2", children: ["\u26A0\uFE0F Collect \u20B9", parcel.totalAmount, " cash from customer."] }) })) : (_jsx("div", { className: "bg-emerald-50 border border-emerald-100 rounded-lg p-4", children: _jsxs("p", { className: "text-sm text-emerald-800 font-medium flex items-center gap-2", children: [_jsx(Check, { className: "w-4 h-4" }), " Payment Pre-paid. Safe to deliver."] }) })), _jsxs("div", { className: "space-y-2", children: [_jsx("label", { className: "text-xs font-bold text-slate-500 uppercase", children: "Delivery Remarks" }), _jsx("textarea", { value: remark, onChange: (e) => setRemark(e.target.value), placeholder: "Enter delivery details (e.g., person name, ID, etc.)", className: "w-full h-24 px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-primary/20 transition-all resize-none" })] }), _jsxs("div", { className: "grid grid-cols-2 gap-4", children: [_jsxs("div", { className: "space-y-2", children: [_jsx("label", { className: "text-xs font-bold text-slate-500 uppercase", children: "Collected By (Name)" }), _jsx("input", { type: "text", value: collectedBy, onChange: (e) => setCollectedBy(e.target.value), placeholder: "Name of person", className: "w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-primary/20 transition-all" })] }), _jsxs("div", { className: "space-y-2", children: [_jsx("label", { className: "text-xs font-bold text-slate-500 uppercase", children: "Mobile Number" }), _jsx("input", { type: "tel", value: collectedByMobile, onChange: (e) => {
                                                        const val = e.target.value.replace(/\D/g, "").slice(0, 10);
                                                        setCollectedByMobile(val);
                                                    }, placeholder: "Mobile Number", className: "w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-xl text-sm outline-none focus:ring-2 focus:ring-primary/20 transition-all" })] })] })] })] }), _jsxs("div", { className: "px-6 py-4 bg-muted/50 border-t border-border flex gap-3", children: [_jsx("button", { onClick: onClose, className: "flex-1 py-2.5 text-muted-foreground bg-background border border-input rounded-lg text-sm font-medium hover:bg-accent hover:text-accent-foreground", children: "Cancel" }), _jsx("button", { onClick: () => onConfirm(remark, collectedBy, collectedByMobile), className: cn("flex-1 py-2.5 rounded-lg text-sm font-bold text-primary-foreground shadow-lg hover:scale-[1.02] transition-all", isToPay ? "bg-destructive hover:bg-destructive/90" : "bg-primary hover:bg-primary/90"), children: isToPay ? "Collect & Deliver" : "Confirm Delivery" })] })] }) }));
}
