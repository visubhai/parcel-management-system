import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
export const PrintBuilty = ({ booking, branches }) => {
    const getBranchName = (branchVal) => {
        if (!branchVal)
            return "";
        // If branchVal is already an object with a name
        if (typeof branchVal !== 'string' && branchVal.name)
            return branchVal.name;
        const id = typeof branchVal === 'string' ? branchVal : (branchVal._id || branchVal.id);
        const found = branches === null || branches === void 0 ? void 0 : branches.find(b => {
            if (!b)
                return false;
            if (typeof b === 'string')
                return b === id;
            const bId = b._id || b.id || b.name; // Try multiple keys
            return bId === id;
        });
        if (found) {
            return typeof found === 'string' ? found : found.name;
        }
        return typeof branchVal === 'string' ? branchVal : "Unknown Branch";
    };
    const fromBranchName = getBranchName(booking.fromBranch);
    const toBranchName = getBranchName(booking.toBranch);
    return (_jsxs("div", { className: "hidden print:block fixed inset-0 bg-white z-[9999] overflow-hidden text-black font-sans leading-tight", children: [_jsx("div", { style: { height: "1in" } }), _jsxs("div", { className: "px-2 relative h-[2.5in]", style: { fontFamily: "Arial, sans-serif", width: "100%" }, children: [_jsxs("div", { className: "flex justify-between items-end mb-4 border-b-2 border-black pb-1", children: [_jsxs("div", { className: "flex flex-col", children: [_jsx("span", { className: "text-[10px] uppercase font-bold text-gray-500", children: "L.R. Number" }), _jsx("span", { className: "text-2xl font-black tracking-widest", children: booking.lrNumber })] }), _jsx("div", { className: "flex flex-col items-center mx-auto", children: _jsx("span", { className: "text-xl font-bold uppercase border-2 border-black px-4 py-0.5 rounded-md", children: booking.paymentType }) }), _jsxs("div", { className: "flex flex-col text-right", children: [_jsx("span", { className: "text-[10px] uppercase font-bold text-gray-500", children: "Booking Date" }), _jsx("span", { className: "text-sm font-bold", children: new Date(booking.date).toLocaleString('en-IN', { day: '2-digit', month: '2-digit', year: 'numeric', hour: '2-digit', minute: '2-digit' }) })] })] }), _jsxs("div", { className: "flex mb-3 text-xs", children: [_jsxs("div", { className: "w-1/2 pr-2 border-r border-gray-300", children: [_jsx("p", { className: "font-bold uppercase text-gray-500 text-[10px]", children: "From Branch" }), _jsx("p", { className: "font-bold text-base", children: (fromBranchName === null || fromBranchName === void 0 ? void 0 : fromBranchName.replace("Branch", "").trim()) || 'Head Office' })] }), _jsxs("div", { className: "w-1/2 pl-2", children: [_jsx("p", { className: "font-bold uppercase text-gray-500 text-[10px]", children: "To Branch" }), _jsx("p", { className: "font-bold text-base", children: toBranchName === null || toBranchName === void 0 ? void 0 : toBranchName.replace("Branch", "").trim() })] })] }), _jsxs("div", { className: "grid grid-cols-2 gap-4 mb-3 border border-black rounded-lg", children: [_jsxs("div", { className: "p-2 border-r border-black", children: [_jsxs("div", { className: "flex justify-between items-baseline mb-1", children: [_jsx("span", { className: "text-[10px] font-bold uppercase opacity-60", children: "Sender" }), _jsx("span", { className: "text-[10px] font-mono", children: booking.sender.mobile })] }), _jsx("p", { className: "font-bold text-sm truncate uppercase", children: booking.sender.name })] }), _jsxs("div", { className: "p-2", children: [_jsxs("div", { className: "flex justify-between items-baseline mb-1", children: [_jsx("span", { className: "text-[10px] font-bold uppercase opacity-60", children: "Receiver" }), _jsx("span", { className: "text-[10px] font-mono", children: booking.receiver.mobile })] }), _jsx("p", { className: "font-bold text-sm truncate uppercase", children: booking.receiver.name })] })] }), _jsxs("div", { className: "flex gap-2 h-[1.2in]", children: [_jsxs("div", { className: "w-[60%] border border-black rounded-lg overflow-hidden flex flex-col", children: [_jsxs("div", { className: "flex bg-gray-100 border-b border-black text-[10px] font-bold uppercase py-1", children: [_jsx("div", { className: "w-12 text-center border-r border-black", children: "Qty" }), _jsx("div", { className: "flex-1 px-2 border-r border-black", children: "Description" }), _jsx("div", { className: "w-16 text-center", children: "Weight" })] }), _jsxs("div", { className: "flex-1 overflow-visible", children: [booking.parcels.slice(0, 3).map((p, i) => (_jsxs("div", { className: "flex text-xs py-1 border-b border-gray-200 last:border-0", children: [_jsx("div", { className: "w-12 text-center border-r border-gray-200 font-bold", children: p.quantity }), _jsx("div", { className: "flex-1 px-2 border-r border-gray-200 truncate", children: p.itemType }), _jsx("div", { className: "w-16 text-center", children: p.weight || '-' })] }, i))), booking.remarks && (_jsxs("div", { className: "text-[10px] italic p-1 border-t border-gray-200 mt-auto bg-gray-50 truncate", children: ["Note: ", booking.remarks] }))] })] }), _jsxs("div", { className: "w-[40%] border border-black rounded-lg p-2 flex flex-col justify-between", children: [_jsxs("div", { className: "space-y-0.5 text-xs", children: [_jsxs("div", { className: "flex justify-between", children: [_jsx("span", { className: "opacity-60", children: "Freight" }), " ", _jsx("span", { className: "font-mono", children: booking.costs.freight })] }), _jsxs("div", { className: "flex justify-between", children: [_jsx("span", { className: "opacity-60", children: "Handling" }), " ", _jsx("span", { className: "font-mono", children: booking.costs.handling })] }), _jsxs("div", { className: "flex justify-between", children: [_jsx("span", { className: "opacity-60", children: "Hamali" }), " ", _jsx("span", { className: "font-mono", children: booking.costs.hamali })] })] }), _jsxs("div", { className: "border-t border-black pt-1 flex justify-between items-end", children: [_jsx("span", { className: "text-[10px] font-bold uppercase", children: "Total" }), _jsxs("span", { className: "text-xl font-black text-black leading-none", children: ["\u20B9", booking.costs.total] })] })] })] })] })] }));
};
